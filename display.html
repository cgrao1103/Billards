<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make a Shot</title>
    <style>
        #poolTableContainer {
            width: 800px;
            height: 400px;
            margin: 0 auto;
            border: 2px solid black;
            position: relative;
        }
        #poolTable {
            width: 100%;
            height: 100%;
            background-color: green;
        }
        #cueBall {
            fill: white;
            cursor: pointer;
        }
        #guideLine {
            stroke: white;
            stroke-width: 3;
        }
    </style>
</head>
<body>
    <div id="poolTableContainer">
        <svg id="poolTable" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
            <!-- Add SVG elements for pool table here -->
            <!-- Example: <circle id="cueBall" cx="50" cy="50" r="10" /> -->
        </svg>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const poolTable = document.getElementById('poolTable');
            const cueBall = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
            cueBall.setAttribute('id', 'cueBall');
            cueBall.setAttribute('cx', '50');
            cueBall.setAttribute('cy', '50');
            cueBall.setAttribute('r', '10');
            poolTable.appendChild(cueBall);

            let isDragging = false;
            let guideLine = null;

            cueBall.addEventListener('mousedown', function(event) {
                isDragging = true;
                const cueBallRect = cueBall.getBoundingClientRect();
                const offsetX = event.clientX - cueBallRect.left;
                const offsetY = event.clientY - cueBallRect.top;
                guideLine = document.createElementNS("http://www.w3.org/2000/svg", 'line');
                guideLine.setAttribute('id', 'guideLine');
                guideLine.setAttribute('x1', offsetX);
                guideLine.setAttribute('y1', offsetY);
                guideLine.setAttribute('x2', offsetX);
                guideLine.setAttribute('y2', offsetY);
                poolTable.appendChild(guideLine);
            });

            document.addEventListener('mousemove', function(event) {
                if (isDragging) {
                    const poolTableRect = poolTable.getBoundingClientRect();
                    const offsetX = event.clientX - poolTableRect.left;
                    const offsetY = event.clientY - poolTableRect.top;
                    guideLine.setAttribute('x2', offsetX);
                    guideLine.setAttribute('y2', offsetY);
                }
            });

            document.addEventListener('mouseup', function(event) {
                if (isDragging) {
                    isDragging = false;
                    const poolTableRect = poolTable.getBoundingClientRect();
                    const releaseX = event.clientX - poolTableRect.left;
                    const releaseY = event.clientY - poolTableRect.top;
                    const cueBallX = parseFloat(cueBall.getAttribute('cx'));
                    const cueBallY = parseFloat(cueBall.getAttribute('cy'));
                    const initialVelocityX = releaseX - cueBallX;
                    const initialVelocityY = releaseY - cueBallY;
                    console.log('Initial Velocity X:', initialVelocityX);
                    console.log('Initial Velocity Y:', initialVelocityY);
                    poolTable.removeChild(guideLine);
                    sendInitialVelocityToServer(initialVelocityX, initialVelocityY);
                }
            });
        });

        function sendInitialVelocityToServer(velocityX, velocityY) {
            // Implement sending initial velocity to server
            console.log('Sending initial velocity to server:', velocityX, velocityY);
        }
    </script>
</body>
</html>
